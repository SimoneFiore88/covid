(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{135:function(e,t,a){},136:function(e,t,a){},142:function(e,t,a){"use strict";a.r(t);var i=a(22),n=a.n(i),l=a(126),s=a.n(l),c=(a(135),a(129)),r=a(75),o=a(93),d=a(32),b=(a(136),a(46)),u=a(62),j=a(121),h=a(21);b.f(j.a),b.d.commercialLicense=!0;var m=["#031F4B","#08396C","#155B96","#6497B1","#B3CDE0"];function v(e){console.log(e.data);var t=Object(i.useRef)(null);return Object(i.useLayoutEffect)((function(){var a=b.c("chartdiv",u.g);a.data=e.data;var i=a.xAxes.push(new u.a);i.renderer.grid.template.location=0,i.fontSize=12;var n=a.yAxes.push(new u.f);n.tooltip.disabled=!0,n.renderer.minWidth=35,n.fontSize=12,i.renderer.grid.template.disabled=!0,n.renderer.grid.template.disabled=!0,Object.keys(e.data[0]).slice(1).forEach((function(e,t){var i=a.series.push(new u.c);i.dataFields.dateX="data",i.dataFields.valueY=e,i.tooltipText="".concat(e.replace(/_/g," ").toUpperCase()," {valueY.value}"),i.name=e,i.stroke=m[t],i.strokeWidth=2,i.tooltip.getFillFromObject=!1,i.tooltip.background.fill=b.b(m[t])})),a.cursor=new u.h,a.legend=new u.b,t.current=a}),[]),Object(h.jsx)("div",{id:"chartdiv",className:"h-80 relative z-1",style:{width:"100%"}})}function p(e){return Object(h.jsx)("div",{className:"w-1/2 md:w-1/3 xl:w-1/6 px-2 mb-4",children:Object(h.jsxs)("div",{className:" px-4 py-2 rounded-md shadow-xl border-l-4 border-blue-500 bg-white-50 hover:shadow-sm",children:[Object(h.jsx)("h2",{className:"font-bold font-ele text-lg  mb-2",children:e.label}),Object(h.jsx)("h3",{className:"text-right font-semibold",children:new Intl.NumberFormat("it").format(e.value)})]})})}b.f(j.a),b.d.commercialLicense=!0;function f(e){console.log(e.data);var t=Object(i.useRef)(null);return Object(i.useLayoutEffect)((function(){var a=b.c("piediv",u.d);a.data=e.data;var i=a.series.push(new u.e);i.dataFields.value="value",i.dataFields.category="label",i.innerRadius=b.e(90),i.radius=b.e(100),i.labels.template.disabled=!0,i.colors.list=[b.b("#14284C"),b.b("#264E97"),b.b("#3875E3")],i.slices.template.stroke=b.b("#fff"),i.slices.template.strokeWidth=2,i.slices.template.strokeOpacity=1;var n=i.createChild(b.a);n.horizontalCenter="middle",n.verticalCenter="middle",n.fontSize=20,n.text="{values.value.sum}",a.legend=new u.b,a.legend.position="left",a.legend.fontSize=12,a.legend.valign="middle",a.legend.itemContainers.template.paddingTop=0,a.legend.valueLabels.template.align="left",a.legend.valueLabels.template.textAlign="start",a.legend.width=200,a.legend.useDefaultMarker=!0;var l=a.legend.markers.template.children.getIndex(0);l.cornerRadius(12,12,12,12),l.strokeWidth=1,l.strokeOpacity=.2,l.stroke=b.b("#f00"),t.current=a}),[]),Object(h.jsx)("div",{id:"piediv",className:"h-40",style:{width:"100%"}})}function x(e){e.dateUpdate,e.latest;var t=e.toPlot,a=e.toPositivePie;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("section",{className:"w-full px-2 pt-4",children:Object(h.jsxs)("div",{className:"rounded-md backdrop-filter backdrop-blur-sm w-full  border-l-4 border-blue-500 bg-white-50",children:[Object(h.jsx)("h2",{className:"font-bold font-ele text-lg ml-3 py-2",children:"Andamento nazionale"}),t&&Object(h.jsx)(v,{data:t,label:"Andamento nazionale"})]})}),Object(h.jsx)("section",{className:"w-full md:w-1/3 px-2 pt-4",children:Object(h.jsxs)("div",{className:"rounded-md backdrop-filter backdrop-blur-sm w-full  border-l-4 border-blue-500 bg-white-50",children:[Object(h.jsx)("h2",{className:"font-bold font-ele text-lg ml-3 py-2",children:"Distribuzione positivi"}),a&&Object(h.jsx)(f,{data:a,label:"Andamento nazionale"})]})})]})}function O(){var e=Object(d.f)().region;return Object(h.jsxs)("p",{children:[" ",e]})}function g(e){var t=e.regions,a=Object(i.useState)(!1),n=Object(r.a)(a,2),l=n[0],s=n[1];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:"absolute top-4 right-2 cursor-pointer ",onClick:function(){return s(!l)},children:Object(h.jsx)("span",{className:" ",children:Object(h.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-list",viewBox:"0 0 16 16",children:Object(h.jsx)("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})})})}),Object(h.jsx)("div",{className:"w-48 absolute top-10 right-2  z-50 ",children:Object(h.jsx)("div",{className:"  px-4 py-2 rounded-md shadow-xl backdrop-filter backdrop-blur-xl border border-gray-500 "+(l?"":"hidden"),children:Object(h.jsx)("div",{className:"h-48 overflow-scroll",onClick:function(){return s(!1)},children:Object(h.jsxs)("ul",{children:[Object(h.jsx)(o.b,{to:"/",children:"Nazionale"}),t&&t.map((function(e){return Object(h.jsx)("li",{children:Object(h.jsx)(o.b,{to:"/region/".concat(e),children:e})},e)}))]})})})})]})}function w(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("section",{className:"w-screen px-2 pt-4",children:[Object(h.jsxs)("h1",{className:"text-2xl font-ele",children:["Status al"," ",e.dateUpdate&&new Intl.DateTimeFormat("it",{year:"numeric",month:"short",day:"numeric"}).format(new Date(e.dateUpdate))]}),e.regions&&Object(h.jsx)(g,{regions:e.regions})]}),Object(h.jsx)("section",{className:"w-screen  mt-10",children:Object(h.jsx)("div",{className:"flex flex-wrap justify-between ",children:e.latest?Object.entries(e.latest).map((function(e){return Object(h.jsx)(p,{label:e[0],value:e[1]},e[0])})):"loading"})})]})}var N=function(){var e=Object(i.useState)(),t=Object(r.a)(e,2),a=t[0],n=t[1],l=Object(i.useState)(),s=Object(r.a)(l,2),b=s[0],u=s[1],j=Object(i.useState)(),m=Object(r.a)(j,2),v=m[0],p=m[1],f=Object(i.useState)(),g=Object(r.a)(f,2),N=g[0],k=g[1],y=Object(i.useState)(),z=Object(r.a)(y,2),C=z[0],F=z[1];return Object(i.useEffect)((function(){fetch("https://raw.githubusercontent.com/pcm-dpc/COVID-19/master/dati-json/dpc-covid19-ita-andamento-nazionale.json").then((function(e){return e.json()})).then((function(e){console.log(e,"dd");var t=e[e.length-1];u(e[e.length-1].data);var a={Deceduti:t.deceduti,Guariti:t.dimessi_guariti,"T. Intensiva":t.terapia_intensiva,"Totale Positivi":t.totale_positivi,"Nuovi Positivi":t.nuovi_positivi,"Delta Positivi":t.variazione_totale_positivi};n(a);var i=e.map((function(e){return{data:new Date(e.data),"T. Intensiva":e.terapia_intensiva,Deceduti:e.deceduti,"Totale Positivi":e.totale_positivi}}));p(i);var l=[{label:"Terapia",value:t.terapia_intensiva},{label:"Isolamento",value:t.isolamento_domiciliare},{label:"Ricoverati",value:t.ricoverati_con_sintomi}];k(l),console.log(t,"PIE")}))}),[]),Object(i.useEffect)((function(){fetch("https://raw.githubusercontent.com/pcm-dpc/COVID-19/master/dati-json/dpc-covid19-ita-regioni.json").then((function(e){return e.json()})).then((function(e){console.log(e);var t=Object(c.a)(new Set(e.map((function(e){return e.denominazione_regione})))).sort();F(t),console.log(t)}))}),[]),Object(h.jsx)("div",{className:"min-h-screen bg-blue",children:Object(h.jsxs)(o.a,{basename:"/covid",children:[Object(h.jsx)(w,{dateUpdate:b,latest:a,regions:C}),Object(h.jsx)("div",{className:"w-screen",children:Object(h.jsx)("div",{className:"flex flex-wrap ",children:Object(h.jsxs)(d.c,{children:[Object(h.jsx)(d.a,{exact:!0,path:"/",children:Object(h.jsx)(x,{toPlot:v,toPositivePie:N})}),Object(h.jsx)(d.a,{path:"/region/:region",children:Object(h.jsx)(O,{})})]})})})]})})},k=function(e){e&&e instanceof Function&&a.e(7).then(a.bind(null,364)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,l=t.getLCP,s=t.getTTFB;a(e),i(e),n(e),l(e),s(e)}))};s.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(N,{})}),document.getElementById("root")),k()}},[[142,1,4]]]);
//# sourceMappingURL=main.9f5e8f3a.chunk.js.map