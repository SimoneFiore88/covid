(this.webpackJsonpcovid=this.webpackJsonpcovid||[]).push([[0],{135:function(e,t,a){},136:function(e,t,a){},142:function(e,t,a){"use strict";a.r(t);var n=a(22),c=a.n(n),i=a(125),s=a.n(i),r=(a(135),a(128)),o=a(98),l=a(119),d=a(32),u=(a(136),a(120)),j=a(80),b=a(129),h=a(26);u.c(b.a),u.b.commercialLicense=!0;var p=["#031F4B","#08396C","#155B96","#6497B1","#B3CDE0"];function x(e){console.log(e.data);var t=Object(n.useRef)(null);return Object(n.useLayoutEffect)((function(){var a=u.a("chartdiv",j.e);a.data=e.data,a.xAxes.push(new j.a).renderer.grid.template.location=0;var n=a.yAxes.push(new j.d);n.tooltip.disabled=!0,n.renderer.minWidth=35,Object.keys(e.data[0]).slice(1).forEach((function(e,t){var n=a.series.push(new j.c);n.dataFields.dateX="data",n.dataFields.valueY=e,n.tooltipText="".concat(e.replace(/_/g," ").toUpperCase()," {valueY.value}"),n.name=e,n.stroke=p[t],n.strokeWidth=2})),a.cursor=new j.f,a.legend=new j.b,t.current=a}),[]),Object(h.jsx)("div",{id:"chartdiv",className:"h-80",style:{width:"100%"}})}function m(e){return Object(h.jsx)("div",{className:"w-1/2 md:w-1/3 xl:w-1/6 px-2 mb-4",children:Object(h.jsxs)("div",{className:" px-4 py-2 rounded-md shadow-xl backdrop-filter backdrop-blur-xl",children:[Object(h.jsx)("h2",{className:"font-bold font-ele text-lg  mb-2",children:e.label}),Object(h.jsx)("h3",{className:"text-right font-semibold",children:new Intl.NumberFormat("it").format(e.value)})]})})}function v(e){e.dateUpdate,e.latest;var t=e.toPlot;e.regions;return Object(h.jsx)("section",{className:"w-full lg:w-5/6 h-full",children:Object(h.jsx)("div",{className:"backdrop-filter backdrop-blur-xl w-full",children:t&&Object(h.jsx)(x,{data:t,label:"Andamento nazionale"})})})}function f(){var e=Object(d.f)().region;return Object(h.jsxs)("p",{children:[" ",e]})}function O(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("section",{className:"w-screen px-5 lg:px-20 pt-4",children:Object(h.jsx)("div",{className:"",children:Object(h.jsxs)("h1",{className:"text-3xl font-ele",children:["Status al"," ",e.dateUpdate&&new Intl.DateTimeFormat("it",{year:"numeric",month:"short",day:"numeric"}).format(new Date(e.dateUpdate))]})})}),Object(h.jsx)("section",{className:"w-screen px-5 lg:px-20 mt-10 mx-auto",children:Object(h.jsx)("div",{className:"flex flex-wrap justify-between -m-4 ",children:e.latest?Object.entries(e.latest).map((function(e){return Object(h.jsx)(m,{label:e[0],value:e[1]},e[0])})):"loading"})})]})}var g=function(){var e=Object(n.useState)(),t=Object(o.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(),s=Object(o.a)(i,2),u=s[0],j=s[1],b=Object(n.useState)(),p=Object(o.a)(b,2),x=p[0],m=p[1],g=Object(n.useState)(),w=Object(o.a)(g,2),N=w[0],_=w[1];return Object(n.useEffect)((function(){fetch("https://raw.githubusercontent.com/pcm-dpc/COVID-19/master/dati-json/dpc-covid19-ita-andamento-nazionale.json").then((function(e){return e.json()})).then((function(e){console.log(e,"dd");var t=e[e.length-1];j(e[e.length-1].data);var a={Deceduti:t.deceduti,Guariti:t.dimessi_guariti,"T. Intensiva":t.terapia_intensiva,"Totale Positivi":t.totale_positivi,"Nuovi Positivi":t.nuovi_positivi,"Delta Positivi":t.variazione_totale_positivi};c(a);var n=e.map((function(e){return{data:new Date(e.data),"T. Intensiva":e.terapia_intensiva,"Nuovi Positivi":e.nuovi_positivi,"Delta Positivi":e.variazione_totale_positivi}}));m(n)}))}),[]),Object(n.useEffect)((function(){fetch("https://raw.githubusercontent.com/pcm-dpc/COVID-19/master/dati-json/dpc-covid19-ita-regioni.json").then((function(e){return e.json()})).then((function(e){console.log(e);var t=Object(r.a)(new Set(e.map((function(e){return e.denominazione_regione})))).sort();_(t),console.log(t)}))}),[]),Object(h.jsxs)("div",{className:"min-h-screen bg-blue",children:[Object(h.jsx)(O,{dateUpdate:u,latest:a}),Object(h.jsx)(l.a,{basename:"/covid",children:Object(h.jsx)("div",{className:"w-screen px-5 lg:px-20 pt-4",children:Object(h.jsxs)("div",{className:"flex flex-wrap ",children:[Object(h.jsx)("div",{className:"w-full lg:w-1/6  px-4 py-2 rounded-md shadow-xl backdrop-filter backdrop-blur-xl mb-10",children:Object(h.jsx)("div",{className:"h-36 lg:h-80 overflow-scroll",children:N&&N.map((function(e){return Object(h.jsx)("p",{children:Object(h.jsx)(l.b,{to:"/region/".concat(e),children:e})},e)}))})}),Object(h.jsxs)(d.c,{children:[Object(h.jsx)(d.a,{exact:!0,path:"/",children:Object(h.jsx)(v,{toPlot:x})}),Object(h.jsx)(d.a,{path:"/region/:region",children:Object(h.jsx)(f,{})})]})]})})})]})},w=function(e){e&&e instanceof Function&&a.e(7).then(a.bind(null,364)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),i(e),s(e)}))};s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(g,{})}),document.getElementById("root")),w()}},[[142,1,4]]]);
//# sourceMappingURL=main.e2fd1106.chunk.js.map